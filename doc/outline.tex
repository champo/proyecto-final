\documentclass[a4paper,11pt]{report}

\usepackage{fullpage}
\usepackage[utf8]{inputenc}
\usepackage{t1enc}
\usepackage[spanish]{babel}
\usepackage[pdftex,usenames,dvipsnames]{color}
\usepackage[pdftex]{graphicx}
\usepackage{enumerate}
\usepackage{url}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{comment}
\usepackage[table]{xcolor}
\usepackage[small,bf]{caption}
\usepackage{float}
\usepackage{subfig}
\usepackage{bm}
\usepackage{fancyhdr}
\usepackage{times}
\usepackage{titlesec}
\usepackage{csquotes}
\usepackage[backend=bibtex,sorting=none]{biblatex}
\usepackage{titling}
% \usepackage{algorithmicx}
\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage{letltxmacro}
\usepackage[margin=1cm]{caption}
\usepackage{setspace}

%%%%% BEGIN ALGPSEUDOCODE STUFF %%%%%%
\algdef{SxnE}[FOREACH]{ForEach}{EndFor}[1]{\algorithmicfor\ #1\ \algorithmicdo}
% LEAVES BLANK LINE AT END \algblockdefx[FOREACH]{ForEach}{EndFor}{\textbf{for each }}{}
\algdef{SxnE}[FOR]{For}{EndFor}[1]{\algorithmicfor\ #1\ \algorithmicdo}
\algdef{SxnE}[WHILE]{While}{EndWhile}[1]{\algorithmicwhile\ #1\ \algorithmicdo}
\algdef{SxnE}[IF]{If}{EndIf}[1]{\algorithmicif\ #1\ \algorithmicthen}
\algdef{cxnE}{IF}{Else}{EndIf}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\algnewcommand\algorithmicauxiliary{\textbf{Auxiliary:}}
\algnewcommand\Auxiliary{\item[\algorithmicauxiliary]}

\DefineBibliographyStrings{spanish}{andothers = {et\addabbrvspace al\adddot}}
\renewbibmacro{in:}{}

\floatname{algorithm}{Algoritmo}

\DeclareMathOperator*{\argmin}{arg\,min}
\addbibresource{references}
\DeclareFieldFormat[inbook]{citetitle}{#1}

\newcommand{\norm}[1]{\left\lVert#1\right\rVert}

% \titleformat{\section}{\small\center\bfseries}{\thesection.}{0.5em}{\normalsize\uppercase}
% \titleformat{\subsection}{\small\center\bfseries}{}{0.5em}{\small\uppercase}

\def\customabstract{\vspace{.5em}
    {\Large\center{\textbf{RESUMEN}} \\[0.5em] \relax%
    }}
\def\endkeywords{\par}

\def\keywords{\vspace{.5em}
    {\textit{Palabras clave: }
    }}
\def\endkeywords{\par}

% TITLE Configuration
\setlength{\droptitle}{-30pt}
\pretitle{\begin{center}\Huge\begin{rmfamily}}
\posttitle{\par\end{rmfamily}\end{center}\vskip 0.5em}
\preauthor{\begin{center}
        \large \lineskip 0.5em%
\begin{tabular}[t]{c}}
\postauthor{\end{tabular}\normalsize
    \\[1em] Instituto Tecnológico de Buenos Aires
\par\end{center}}
\predate{\begin{center}\small}
\postdate{\par\end{center}}

% Headers
\addtolength{\voffset}{-40pt}
\addtolength{\textheight}{80pt}
\renewcommand{\headrulewidth}{0pt}
\fancyhead{}
\fancyfoot{}
\lhead{\small } % No publicado
\rhead{\small \thepage}
\cfoot{\small Copyright \copyright 2013 ITBA}

% Next 4 lines allow for parts with independet sections counters
% and correct referencing between parts

% Metadata
\title{Análisis Automático de Jugadas en Partidos de Fútbol}
\date{1 de agosto de 2014}
\author{Civile, Juan Pablo \and Crespo, Álvaro \and Ordano, Esteban }


\begin{document}
\pagestyle{fancy}
\maketitle
\thispagestyle{fancy}

\begin{customabstract}
\begin{doublespace}
El seguimiento de jugadores en una secuencia de imágenes (video) es un caso
particular del seguimiento de objetos, aplicado a partidos de fútbol. El
objetivo es detectar y seguir la posición de los jugadores y la pelota a medida
que se desarrolla el juego, obteniendo información útil para distintas
aplicaciones, como puede ser soporte informático para los árbitros (detección
automática de pases, goles, posiciones adelantadas, etc...), adaptación del
entrenamiento de los jugadores, análisis y estudio de las tácticas de un
contricante, entre otros.

En el presente trabajo, se analizan las dificultades de realizar el seguimiento
de jugadores en tiempo real con reducida o nula colaboración humana a partir de
una sola fuente de video que consiste en una cámara de alta resolución (HD)
fija capaz de encuadrar todo el campo de juego. 

En base al analisis de dificultades, se selecciona una tecnica de seguimiento,
y se detalla un algoritmo construido sobre esta para la tarea especifica de 
detección y seguimiento de jugadores en futbol. Finalmente, se presentan 
resultados de aplicar este algoritmo, y que información podria proveer para el
analisis automatico de jugadas.
\end{doublespace}
\end{customabstract}

\tableofcontents

\chapter{Introducción}

Dentro del campo de análisis y tratamiento de imágenes un problema que se
estudia es el del reconocimiento y seguimiento de objetos en secuencias de
imágenes. Identificar correctamente un objeto en un video es útil para un
amplio rango de aplicaciones, desde aplicaciones médicas (dónde se ofrece
soporte para diagnósticos y cirugías) hasta la industria cinematográfica
(captura de movimiento, \textit{post-producción}), pasando por vigilancia con
cámaras. 

En el ámbito deportivo se encuentran muchas aplicaciones para el seguimiento de
objetos. Puede resultar útil para validar o reemplazar las decisiones de los
jueces o árbitros del partido, permitir a deportistas de alto rendimiento
analizar y mejorar sus movimientos, ayudar a los entrenadores a decidir
estrategias y evaluar a los deportistas, otorgar estadísticas a fanáticos del
juego, entre otras aplicaciones.

En este trabajo se estudia el problema de realizar el seguimiento de todos los
jugadores de un partido de fútbol, utilizando una única cámara, con su posición
fija y que abarca todo el campo de juego. Se busca que el seguimiento sea en
tiempo real, es decir, que el procesamiento sea lo suficientemente rápido para
que se vean los resultados mientras se ejecuta el video. En base a la posición
a través del tiempo, se puede informar la velocidad de un jugador en un
determinado momento, distancia recorrida, zonas más frecuentadas por el
jugador, entre otros.

Se plantea el uso de una técnica de seguimiento existente, \textit{contornos
activos}, para el seguimiento en tiempo real de los jugadores con una única
computadora. Esta técnica determina el contorno de un objeto dentro del video y
a medida que el objeto se mueve el contorno se adapta tomando decisiones
basadas los valores \textit{RGB} de las imágenes. Se investigaron alternativas
para mejorar el seguimiento específicas a las características de un video de
fútbol, como ser la morfología de los objetos a seguir (por ejemplo, se acota
con un rectángulo más alto que ancho el tamaño máximo del contorno de un
jugador) entre otros.

En el \ref{chap-state} se describe el estado del arte actual en el área de
seguimiento de objetos, y en particular se examinan soluciones aplicadas al
fútbol. En el \ref{chap-problems} se detalla el problema a solucionar y se
discuten dificultades del seguimiento automático. En el \ref{chap-ac} se resume
el funcionamiento y el márco teórico del algoritmo de seguimiento por contornos
activos. El contenido de \ref{chap-solution} describe la solución planteada,
estrategias que otorgaron mejores resultados, así como variaciones que fueron
implementadas y posteriormente descartadas por no mejorar los resultados.  En
el \ref{chap-results} se presentan los resultados obtenidos al ejecutar el
algoritmo en videos filmados en partidos de fútbol profesional de clubes
argentinos, y se compara la performance con un algoritmo de seguimiento
genérico y no optimizado para seguimiento de jugadores de fútbol.
% TODO: No me gusta nada esta oración que sigue
Para finalizar, en el \ref{chap-conclusion} se discuten las conclusiones
alcanzadas y posibles futuros trabajos basados en esta solución.

\newpage

\input{parts/state-of-the-art}

\newpage

\input{parts/problems}

\newpage

\input{parts/ac}

\newpage

\input{parts/solution}

\newpage

\input{parts/results}

\newpage

\input{parts/conclusion}

\printbibliography

%% TODO get rid of this before final deadline
\begin{comment}

- Algoritmo de deteccion de fondo: cosas que no son la cancha en el video arruinan las mediciones
  => Poner en negro toda parte del video que no sea la cancha

- Funcion de feature de contornos activos
  + Tomar promedio de color del contorno inicial no soporta camisetas rayadas
  + Tampoco aguanta camisetas con mucha iluminacion
  => Busqueda de nuevos features
    - sigma
    - coeficiente de variacion: ???
    - distintos color-spaces: algunos color spaces funcionan mejor para un tipo de camiseta que otro. seria necesario tener varios features distintos y saber seleccionar el mejor

- Distorcion de la lente introduce error en la homografia
  => Algoritmos de correcion de la lente
     - El factor de correcion es distinto para cada video
     - Es dificil de calcular programaticamente

- Jugadores distantes se borronean mucho
  => ???

- La pelota es muy chica
  => ???

- Cuando un jugador marca a otro, suele recorrer mucha distancia oculto o semi oculto
  => ???

- Además de distorción de la lente, la RESOLUCION: al agarrar TODA la cancha en una toma los jugadores MUY chicos, y la pelota más
    => ???

- Las canchas tienen diferentes medidas (varían en un cierto rango). Esto afecta a la homografía
    => Adaptar la homografía a las dimensiones de cada cancha.

- Como relacionar posiciones relativas de los jugadores teniendo una vista 3D con perspectiva
    => Homografía
    (Muy básico?)

\end{comment}

\end{document}
